!function(e,t){if("function"==typeof define&&define.amd)define(["module","exports"],t);else if("undefined"!=typeof exports)t(module,exports);else{var n={exports:{}};t(n,n.exports),e.mango=n.exports}}(this,function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){function e(){return document.querySelectorAll(l)}function t(e){var t=e.getBoundingClientRect(),n=t.top,i=t.left,o=t.width,d=t.height,a=e.cloneNode(),r=window.pageYOffset,s=window.pageXOffset;return a.style.position="absolute",a.style.top=n+r+"px",a.style.left=i+s+"px",a.style.width=o+"px",a.style.height=d+"px",a}function o(){var e=document.createElement("div");return e.classList.add("mango-overlay"),e}function d(e){if(e.preventDefault(),e.target){a(e.target)}else a(origin).out()}function a(e){function n(){function t(){o||(o=!0,document.body.classList.remove("mango--open"),d.style.transform="none",d.removeEventListener("click",n()),a=function t(){e.style.visibility="visible",document.body.removeChild(d),document.body.removeChild(f),d.classList.remove("mango-image--open"),o=!1,d.removeEventListener("transitionend",t)},d.addEventListener("transitionend",a))}var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;i>0?setTimeout(t,i):t()}if(e){var i=window.pageYOffset||0,o=!0,d=t(e);document.body.appendChild(f),document.body.appendChild(d),requestAnimationFrame(function(){document.body.classList.add("mango--open")}),e.style.visibility="hidden",d.classList.add("mango-image--open");var a=function e(){o=!0,d.addEventListener("click",function(){o=!1,n()}),window.addEventListener("resize",function(){o=!1,n(20)}),f.addEventListener("click",function(){o=!1,n()}),d.removeEventListener("transitionend",e)},s=function(){[27,37,39].includes(event.keyCode)&&(o=!1,n())},l=function(){var e=window.pageYOffset||0;Math.abs(i-e)>50&&(o=!1,n(150))};d.addEventListener("transitionend",a),document.addEventListener("keydown",s),document.addEventListener("scroll",l),r(e,d)}}function r(e,t){var n={width:window.innerWidth,height:window.innerHeight,left:0,top:0,right:0,bottom:0},i=i||n.width-10,o=o||n.height-10,d=e,a=d.naturalWidth,r=void 0===a?i:a,s=d.naturalHeight,l=void 0===s?o:s,c=d.getBoundingClientRect(),u=c.top,f=c.left,v=c.width,m=c.height,p=Math.min(r,i)/v,h=Math.min(l,o)/m,g=Math.min(p,h)||1,y=((i-v)/2-f+5+n.left)/g,w=((o-m)/2-u+5+n.top)/g,L="scale("+g+") translate3d("+y+"px, "+w+"px, 0)";t.style.transform=L}function s(e){e.forEach(function(e){e.classList.add("mango-image"),e.addEventListener("click",function(){d(event)})})}var l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"[data-mango]",c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};c=n({},i,c);var u=e(),f=o();return s(u)};var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},i={};e.exports=t.default});